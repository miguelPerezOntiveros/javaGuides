<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<!-- jQuery -->
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>

	<!-- marked -->
	<script src="node_modules/marked/marked.min.js"></script>

	<!-- code-prettyfy -->
	<link href="google-code-prettify/prettify.css" type="text/css" rel="stylesheet" />
	<script type="text/javascript" src="google-code-prettify/prettify.js"></script>

	<!-- Bootstrap -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
	
	<link href='https://fonts.googleapis.com/css?family=Amiri' rel='stylesheet' type='text/css'>
	<link href="style.css" rel="stylesheet">

	<title>Document</title>

	<style>
		.group {
		    background: yellow;
		    width: 200px;
		}
		.group .subgroup {
		    background: orange;
		    width: 150px;
		}
		.fixed {
		    position: fixed;
		}

		/* sidebar */
		.bs-docs-sidebar {
		    padding-left: 20px;
		    margin-top: 20px;
		    margin-bottom: 20px;
		}

		/* all links */
		.bs-docs-sidebar .nav>li>a {
		    color: #999;
		    border-left: 2px solid transparent;
		    padding: 4px 20px;
		    font-size: 13px;
		    font-weight: 400;
		}

		/* nested links */
		.bs-docs-sidebar .nav .nav>li>a {
		    padding-top: 1px;
		    padding-bottom: 1px;
		    padding-left: 30px;
		    font-size: 12px;
		}

		/* active & hover links */
		.bs-docs-sidebar .nav>.active>a, 
		.bs-docs-sidebar .nav>li>a:hover, 
		.bs-docs-sidebar .nav>li>a:focus {
		    color: #563d7c;                 
		    text-decoration: none;          
		    background-color: transparent;  
		    border-left-color: #563d7c; 
		}
		/* all active links */
		.bs-docs-sidebar .nav>.active>a, 
		.bs-docs-sidebar .nav>.active:hover>a,
		.bs-docs-sidebar .nav>.active:focus>a {
		    font-weight: 700;
		}
		/* nested active links */
		.bs-docs-sidebar .nav .nav>.active>a, 
		.bs-docs-sidebar .nav .nav>.active:hover>a,
		.bs-docs-sidebar .nav .nav>.active:focus>a {
		    font-weight: 500;
		}

		/* hide inactive nested list */
		.bs-docs-sidebar .nav ul.nav {
		    display: none;           
		}
		/* show active nested list */
		.bs-docs-sidebar .nav>.active>ul.nav {
		    display: block;           
		}
	</style>
</head>
<body>
	<div class="row" style="height:5vh;">
		<div class="col-md-10 col-md-offset-1">
			<div class="col-md-1"></div>
			<div class="col-md-1"></div>
			<div id="menu1" class="col-md-1"><h1>1 - 2</h1></div>
			<div id="menu2" class="col-md-1"><h1>3 - 4</h1></div>
			<div id="menu3" class="col-md-1"><h1>5 - 6</h1></div>
			<div id="menu4" class="col-md-1"><h1>7 - 8</h1></div>
			<div id="menu5" class="col-md-1"><h1>9 - 10</h1></div>
			<div id="menu6" class="col-md-1"><h1>11 - 12</h1></div>
			<div id="menu7" class="col-md-1"><h1>13 - 14</h1></div>
			<div id="menu8" class="col-md-1"><h1>15 - Appx.</h1></div>
			<div class="col-md-1"></div>
			<div class="col-md-1"></div>
		</div>
	</div>

	<div class="row">
		<div class="col-md-6">
			<div id ="leftSide" class="col-md-1">
				<a id="leftArrow">LEFT ARROW</a>
			</div>

			<div class="col-md-11" style="overflow: scroll; height: 95vh;">
				<!-- nav -->
					<nav class="col-md-2 bs-docs-sidebar">
				        <ul id="sidebarleftMiddle" class="nav nav-stacked fixed">
				            
<!-- 				          
$('#'+id).find('h6').each( (id, entry)=>{ $('#sidebar').append( '<li><a href="#' + $(entry).html() +'">' + $(entry).html() +'</a></li>' ); });
									
							<li>
				                <a href="#GroupA">Group A</a>
				                <ul class="nav nav-stacked">
				                    <li><a href="#GroupASub1">Sub-Group 1</a></li>
				                    <li><a href="#GroupASub2">Sub-Group 2</a></li>
				                </ul>
				            </li>
				            <li>
				                <a href="#GroupB">Group B</a>
				                <ul class="nav nav-stacked">
				                    <li><a href="#GroupBSub1">Sub-Group 1</a></li>
				                    <li><a href="#GroupBSub2">Sub-Group 2</a></li>
				                </ul>
				            </li> 
-->

				        </ul>
				    </nav>
			    <!-- /nav -->
				<div class="col-md-10">
					<div id="leftMiddle"></div>
				</div>
			</div>
		</div>	

		<div class="col-md-6">
			<div class="col-md-11" style="overflow: scroll; height: 95vh;">
				<!-- nav -->
					<nav class="col-md-2 bs-docs-sidebar">
				        <ul id="sidebarrightMiddle" class="nav nav-stacked fixed">
				            <li>
				                <a href="#GroupA">Group A</a>
				                <ul class="nav nav-stacked">
				                    <li><a href="#GroupASub1">Sub-Group 1</a></li>
				                    <li><a href="#GroupASub2">Sub-Group 2</a></li>
				                </ul>
				            </li>
				            <li>
				                <a href="#GroupB">Group B</a>
				                <ul class="nav nav-stacked">
				                    <li><a href="#GroupBSub1">Sub-Group 1</a></li>
				                    <li><a href="#GroupBSub2">Sub-Group 2</a></li>
				                </ul>
				            </li>
				        </ul>
				    </nav>
			    <!-- /nav -->
				<div class="col-md-10">
					<div id="rightMiddle"></div>
				</div>
			</div>
				
			<div id ="rightSide" class="col-md-1">
				<a id="rightArrow">RIGHT ARROW</a>
			</div>		
		</div>
	</div>
	
	<script>

		$('#leftArrow').click( () =>{ fillContent(--currentPage); });
		$('#rightArrow').click( () =>{ fillContent(++currentPage); });
		$('#menu1').click( () =>{ fillContent(1); });
		$('#menu2').click( () =>{ fillContent(2); });
		$('#menu3').click( () =>{ fillContent(3); });

		var currentPage = 2;
		$('#leftArrow').trigger('click');

		function fillContent(chapter){
			$('#leftArrow').show();
			$('#rightArrow').show();
			if(currentPage == 1)
				$('#leftArrow').hide();
			if(currentPage == 3)
				$('#rightArrow').hide();

			window.loaded = 0;
			new Promise(function(resolve){
				$.get( 'md/OCA chapter' + ( chapter * 2 - 1 ) + '.md', function( data ) {
					$('#leftMiddle').html(marked(data));
					resolve('leftMiddle');
				});
			}).then( afterLoading );

			new Promise(function(resolve){
				$.get( 'md/OCA chapter' + ( chapter * 2 ) + '.md', function( data ) {
					$('#rightMiddle').html(marked(data));
					resolve('rightMiddle');
				});
			}).then( afterLoading );
		}

		function afterLoading(id){
				$('#sidebar' + id).html('');
				$('#'+id).find('h3').each( (num, entry)=>{ 
					$('#sidebar' + id).append( '<li><a href="#' + id + num +'">' + $(entry).html() +'</a></li>' ); 
					$(entry).prepend('<section id = ' + id + num +'></section>' );
				});

				$('#' + id).parent().parent().animate({ scrollTop: (0) }, 'fast');

				if(++window.loaded == 2)
		    	{
		    		$( "code" ).each(function() {
					  $( this ).addClass( "prettyprint" );
					}); 
		    		prettyPrint();
		    	}
		}

		$('body').scrollspy({
		    target: '.bs-docs-sidebar',
		    offset: 40
		});
	</script>

</body>
</html>
